<!DOCTYPE html>
<html>
  <head>
    <title>Redeemify</title>
    <script type="text/javascript">
//<![CDATA[
window.gon={};gon.codes={"uploaded":0,"total":0,"used":0,"unclaim":0,"removed":0};
//]]>
</script>
    <link href="/assets/application.css" media="screen" rel="stylesheet" type="text/css" />
    <script src="/assets/application.js" type="text/javascript"></script>
    
  </head>
  <body>

    <div id="container">
        <div id="flash_notice">Profile Updated</div>
      <p class="account">Login with: FACEBOOK | Name: Github | <a href="/logout" id="logout-link">Logout</a></p>
<div id="welcome">

    <h1> <img alt="Logo" class="logo" height="100" src="/assets/logo.png" width="400" /></h1>
  </div>



<center><div id="barchart_values" style="width: 900px; height: 150px;"></div></center>

<br>
<br>
<br>
<br>




<div class = "group-buttons">
<div class = "row1">
   <a href="/vendors/change_to_user" id="user-login" style="color:#000">Login as a user</a>
</div>

<div class = "row1">
   <a href="/vendors/upload_page" id="upload" style="color:#000">Upload New Codes</a>
</div>
<div class = "row1">
   <a href="/vendors/profile" id="upload" style="color:#000">Update Your Profile</a>
</div>

<div class = "row1">
 <button type="button" onclick="confirmation()"> Download And Remove Unclaimed Codes</button> 

</div>
</div>



<br>
   
<h4 class="history">History</h4>

<center><a href="/vendors/clear_history" id="upload" style="color:#000">Clear History</a></center>





<div class = "vendor_table">

<table>

    <tr class = "vendor_header">
      <td width = "25%">Upload/Remove Date</td>
      <td width = "50%">Comment</td>
      <td width = "25%">Number of Codes Uploaded/Removed</td>
    </tr>
  
<tbody>
  
  </tbody>
</table>
</div>



<html>
<script type="text/javascript" src="https://www.google.com/jsapi"></script>
 <script type="text/javascript">
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart);
    function drawChart() {
      var data = google.visualization.arrayToDataTable([
        ["Element", "Quantity", { role: "style" } ],
        ["Uploaded", gon.codes["uploaded"], "#080dcc"],
        //["Current Of Total Code = #Used Codes + #Unclaimed Codes ", gon.codes["total"], "#b87333"],
        ["Used", gon.codes["used"], "#c53711"],
        ["Unclaimed", gon.codes["unclaim"], "#0c9200"],
        ["Removed", gon.codes["removed"], "color: #000000"]

      ]);

      var view = new google.visualization.DataView(data);
      view.setColumns([0, 1,
                       { calc: "stringify",
                         sourceColumn: 1,
                         type: "string",
                         role: "annotation" },
                       2]);

      var options = {
        title: "Codes Data",
        width: 400,
        height: 200,
        bar: {groupWidth: "95%"},
        legend: { position: "none" },
      };
      var chart = new google.visualization.BarChart(document.getElementById("barchart_values"));
      chart.draw(view, options);
  }


  function confirmation() {

  if (gon.codes["unclaim"] == 0) {
    alert("you have no unclaimed code to remove");
  } 
  else {
    var answer = confirm("Do you want to remove " + gon.codes["unclaim"] + " unclaimed codes?")
    unclaim = gon.codes["unclaim"]
    if (answer){
      window.location = "/vendors/remove_codes";
      alert(unclaim + " unclaimed codes have been removed");
      window.location = "/vendors/home";
    }
  }
}
  </script>

</html>



    </div>


  </body>
</html>
